/*
	DemoTextures.h
*/

#include "Texture.h"
#include "TexGen.h"
#include "Progress.h"

// The textures used in this demo
Texture *t_metal2;
Texture *t_re2xt;
Texture *t_blab;
Texture *t_refl;
Texture *t_silver;

unsigned char metal2_data[] = 
{
	/*
	 EFF  BUF   PAR1  PAR2  PAR3  PAR4  PAR5  PAR6  RAND
	*/
	5,
	0x03, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x03, 0x01, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x03, 0x02, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x12, 0x00, 0x05, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x02, 0x01, 0x20, 0x40, 0x10, 0x30, 0x00
};

unsigned char re2xt_data[] = 
{
	/*
	 EFF  BUF   PAR1  PAR2  PAR3  PAR4  PAR5  PAR6  RAND
	*/
	6,
	0x03, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x03, 0x01, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x03, 0x02, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x12, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x11, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x05, 0x03, 0x30, 0x20, 0x20, 0x40, 0x00
};

unsigned char blab_data[] =
{
	/*
	 EFF  BUF   PAR1  PAR2  PAR3  PAR4  PAR5  PAR6  RAND
	*/
	0
};

unsigned char refl_data[] =
{
	/*
	 EFF  BUF   PAR1  PAR2  PAR3  PAR4  PAR5  PAR6  RAND
	*/
	8,
	0x03, 0x02, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x21, 0x00, 0x30, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x02, 0x02, 0x20, 0x10, 0x70, 0x90, 0x00,
	0x03, 0x01, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x21, 0x00, 0x40, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x02, 0x02, 0x20, 0x10, 0x70, 0x90, 0x00,
	0x03, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x51,
	0x22, 0x00, 0x02, 0x02, 0x20, 0x10, 0x70, 0x90, 0x00
};

unsigned char silver_data[] =
{
	/*
	 EFF  BUF   PAR1  PAR2  PAR3  PAR4  PAR5  PAR6  RAND
	*/
	9,
	0x03, 0x02, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x21, 0x00, 0x30, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x02, 0x02, 0x20, 0x10, 0x70, 0x90, 0x00,
	0x03, 0x01, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x21, 0x00, 0x30, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x22, 0x00, 0x02, 0x03, 0x20, 0x10, 0x70, 0x90, 0x00,
	0x03, 0x00, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x51,
	0x22, 0x00, 0x02, 0x02, 0x20, 0x10, 0x70, 0x90, 0x00,
	0x13, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

// Generate some textures
void loadTextures(HWND *wnd)
{
	TexGen *gen = new TexGen;

	t_metal2 = gen->Make(metal2_data);
	progress(wnd, 0.1f);
	
	t_re2xt = gen->Make(re2xt_data);
	progress(wnd, 0.2f);
	
	t_blab = gen->Make(blab_data, false);
	t_refl = gen->Make(refl_data);
	progress(wnd, 0.3f);

	t_silver = gen->Make(silver_data);
	progress(wnd, 0.4f);

	delete gen;
}

// And free some memory
void killTextures()
{
	delete t_metal2;
	delete t_re2xt;
	delete t_blab;
	delete t_refl;
	delete t_silver;
}
